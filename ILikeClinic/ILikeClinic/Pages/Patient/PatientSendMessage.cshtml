@page
@using ILikeClinic.Model
@using Microsoft.AspNetCore.Identity
@model ILikeClinic.Pages.Patient.PatientSendMessageModel
@{
}
<br />
<h1 class="text-info">Send a message to Doctor</h1>
<br />

<div class="border container p-4">
    <form method="post" enctype="multipart/form-data">
       
        <input hidden asp-for="Patient.Id"/>
        <input hidden asp-for="@Model.Doctor.Id" />

        <div asp-validation-summary="ModelOnly" class="text-danger"></div>

        <div class="form-group-lg row fs-5 ">
            <h3>Step 1:</h3>

        </div>
        <br />
        <div class="form-group row fs-4">
            <div class="col-3 offset-1">
                <label asp-for="Patient.FullName"></label> 
                
            </div>
            <div class="col-6">
                @Model.Patient.FullName

            </div>
           
        </div>
        <br />
        <br />


        <div class="form-group-lg row fs-5 ">
            <h3>Step 2:</h3>

        </div>
        <br />
        <div class="form-group row fs-4">
            <div class="col-3 offset-1">
                <label asp-for="Message.ToId">Choose a Doctor: </label>
            </div>
            @if(Model.Doctor != null){
                    <div class="col-6">@Model.Doctor.FullName</div>
            }
            else {
                <div class="col-6">
                    <select class="custom-select w-100" asp-for="Message.ToId" asp-items="Model.DoctorList">
                        <option value="">--Select a Doctor--</option>
                    </select>
                </div>
            }

            <span asp-validation-for="Message.ToId" class="text-danger fs-5"></span>
        </div>
        <br />
        <br />


        <div class="form-group-lg row fs-5">
            <h3>Step 3:</h3>
            <div class="col-4">
                *Enter your message.
            </div>
            <div class="col-6">
                <input class="form-control"  asp-for="Message.Text"  />
            </div>
        </div>
        <br />

        <br />
        <div class="form-group row fs-3">

            <div class="col-3">
                <button type="submit" class="btn btn-primary form-control  ">Send</button>
            </div>
            @if (Model.Doctor != null){
                <div class="col-3">
                    <a asp-page="PatientFindDoctor"
                   class="btn btn-secondary form-control text-bg-info">Back </a>
                </div>
            }
            else {
                <div class="col-3">
                    <a asp-page="Message_List"
                   class="btn btn-secondary form-control text-bg-info">Back </a>
                </div>
            }


        </div>

    </form>

</div>